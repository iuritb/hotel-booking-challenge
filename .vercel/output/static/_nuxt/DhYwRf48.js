import{_ as b}from"./C20yfe2c.js";import{_ as y}from"./CV_TY9yW.js";import{_ as w}from"./oR6xbubu.js";import{f as V,k,n as l,c as n,a as t,x as B,b as r,v as L,w as _,t as N,d as p,m as S,o as i}from"./C2Bo2PL1.js";const E={class:"min-h-screen flex items-center justify-center bg-gray-100 p-4"},q={class:"max-w-md w-full bg-white rounded-lg shadow-md p-8"},C=t("h2",{class:"text-3xl font-extrabold text-center text-gray-900 mb-6"},"Fazer Login",-1),M={class:"mb-4"},F={class:"mb-6"},R={key:0},U={key:1},$={key:0,class:"text-red-600 text-sm text-center mt-4"},j={class:"text-center text-gray-600 text-sm mt-4"},T=V({__name:"login",setup(z){const f=k(),g=S(),u=l(""),c=l(""),a=l(!1),e=l(""),h=async()=>{a.value=!0,e.value="";try{const s=await f.userLogin(u.value,c.value);s.success?g.push("/"):(e.value=s.message||"Falha no login. Verifique suas credenciais.",console.log("Login falhou. Mensagem de erro para exibir:",e.value))}catch(s){e.value=s.message||"Ocorreu um erro inesperado durante o login.",console.error("Erro de login:",s)}finally{a.value=!1}};return(s,o)=>{const m=b,v=y,x=w;return i(),n("div",E,[t("div",q,[C,t("form",{onSubmit:B(h,["prevent"])},[t("div",M,[r(m,{id:"email-login",modelValue:u.value,"onUpdate:modelValue":o[0]||(o[0]=d=>u.value=d),label:"Email",type:"email",placeholder:"seu@email.com",required:"",class:"w-full"},null,8,["modelValue"])]),t("div",F,[r(m,{id:"password-login",modelValue:c.value,"onUpdate:modelValue":o[1]||(o[1]=d=>c.value=d),label:"Senha",type:"password",placeholder:"Sua senha",required:"",class:"w-full"},null,8,["modelValue"])]),r(v,{type:"submit",variant:"primary",class:"w-full",disabled:a.value},{default:_(()=>[a.value?(i(),n("span",R,"Entrando...")):(i(),n("span",U,"Entrar"))]),_:1},8,["disabled"]),e.value?(i(),n("p",$,N(e.value),1)):L("",!0),t("p",j,[p(" NÃ£o tem uma conta? "),r(x,{to:"/register",class:"text-blue-600 hover:underline"},{default:_(()=>[p("Registre-se aqui.")]),_:1})])],32)])])}}});export{T as default};
