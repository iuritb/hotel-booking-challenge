import{_ as y}from"./uodTgukN.js";import{_ as b}from"./Cy9M1EP5.js";import{_ as w}from"./MQ5VgeEN.js";import{e as V,k,l,c as n,a as o,j as B,b as r,x as L,w as p,t as N,d as _,y as S,o as i}from"./B5yRquVf.js";const E={class:"min-h-screen flex items-center justify-center bg-gray-100 p-4"},q={class:"max-w-md w-full bg-white rounded-lg shadow-md p-8"},C={class:"mb-4"},M={class:"mb-6"},j={key:0},F={key:1},R={key:0,class:"text-red-600 text-sm text-center mt-4"},U={class:"text-center text-gray-600 text-sm mt-4"},T=V({__name:"login",setup(z){const f=k(),g=S(),u=l(""),d=l(""),a=l(!1),t=l(""),x=async()=>{a.value=!0,t.value="";try{const s=await f.userLogin(u.value,d.value);s.success?g.push("/"):(t.value=s.message||"Falha no login. Verifique suas credenciais.",console.log("Login falhou. Mensagem de erro para exibir:",t.value))}catch(s){t.value=s.message||"Ocorreu um erro inesperado durante o login.",console.error("Erro de login:",s)}finally{a.value=!1}};return(s,e)=>{const c=y,v=b,h=w;return i(),n("div",E,[o("div",q,[e[4]||(e[4]=o("h2",{class:"text-3xl font-extrabold text-center text-gray-900 mb-6"},"Fazer Login",-1)),o("form",{onSubmit:B(x,["prevent"])},[o("div",C,[r(c,{id:"email-login",modelValue:u.value,"onUpdate:modelValue":e[0]||(e[0]=m=>u.value=m),label:"Email",type:"email",placeholder:"seu@email.com",required:"",class:"w-full"},null,8,["modelValue"])]),o("div",M,[r(c,{id:"password-login",modelValue:d.value,"onUpdate:modelValue":e[1]||(e[1]=m=>d.value=m),label:"Senha",type:"password",placeholder:"Sua senha",required:"",class:"w-full"},null,8,["modelValue"])]),r(v,{type:"submit",variant:"primary",class:"w-full",disabled:a.value},{default:p(()=>[a.value?(i(),n("span",j,"Entrando...")):(i(),n("span",F,"Entrar"))]),_:1},8,["disabled"]),t.value?(i(),n("p",R,N(t.value),1)):L("",!0),o("p",U,[e[3]||(e[3]=_(" NÃ£o tem uma conta? ",-1)),r(h,{to:"/register",class:"text-blue-600 hover:underline"},{default:p(()=>[...e[2]||(e[2]=[_("Registre-se aqui.",-1)])]),_:1})])],32)])])}}});export{T as default};
