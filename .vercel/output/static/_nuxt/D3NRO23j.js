import{_ as A}from"./C20yfe2c.js";import{_ as F}from"./CV_TY9yW.js";import{_ as H}from"./oR6xbubu.js";import{f as O,i as $,q as k,r as R,h as b,o as a,w as S,a as e,t as h,c as n,F as x,g as U,A as q,x as M,b as r,d as f,k as E,n as L,y as T,s as B,j as g,B as P,C as D}from"./C2Bo2PL1.js";import{u as j}from"./8-_jDE8-.js";import{u as z}from"./lNf_0Xei.js";const J=["src","alt"],Q={class:"p-4"},W={class:"text-xl font-semibold text-gray-800 mb-2"},G={class:"text-gray-600 text-sm mb-2"},K={class:"flex items-center mb-2"},X={class:"flex text-yellow-500"},Y={class:"ml-2 text-gray-700 text-sm"},Z={class:"text-gray-900 text-lg font-bold mb-4"},ee=O({__name:"HotelCard",props:{hotel:{}},setup(w){const d=w,u=j();$(()=>{u.loadComparisonFromLocalStorage()});const m=k(()=>u.isHotelInComparison(d.hotel.id)),t=()=>{m.value?u.removeHotelFromCompare(d.hotel.id):u.addHotelToCompare(d.hotel)};return(l,V)=>{const c=R("Icon"),_=H;return a(),b(_,{to:`/hotels/${l.hotel.id}`,class:"block bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 overflow-hidden"},{default:S(()=>{var v,y;return[e("img",{src:l.hotel.imageUrl,alt:l.hotel.name,class:"w-full h-48 object-cover"},null,8,J),e("div",Q,[e("h3",W,h(l.hotel.name),1),e("p",G,h(l.hotel.location),1),e("div",K,[e("div",X,[(a(),n(x,null,U(5,i=>(a(),n(x,{key:i},[i<=Math.floor(l.hotel.rating)?(a(),b(c,{key:0,name:"ic:round-star"})):i-.5===l.hotel.rating?(a(),b(c,{key:1,name:"ic:round-star-half",class:"h-5 w-5"})):(a(),b(c,{key:2,name:"ic:round-star-border",class:"h-5 w-5"}))],64))),64))]),e("span",Y,h(((v=l.hotel.rating)==null?void 0:v.toFixed(1))||"N/A")+" ("+h(l.hotel.reviewsCount)+" avaliações)",1)]),e("p",Z,"R$ "+h(((y=l.hotel.pricePerNight)==null?void 0:y.toFixed(2))||"0.00")+" / noite",1),e("button",{onClick:M(t,["prevent"]),class:q(["w-full px-4 py-2 rounded-md text-sm font-medium transition-colors duration-200",m.value?"bg-red-500 text-white hover:bg-red-600":"bg-indigo-600 text-white hover:bg-indigo-700"])},[m.value?(a(),n(x,{key:0},[r(c,{name:"ic:round-check",class:"inline-block align-middle mr-1"}),f(" Na Comparação ")],64)):(a(),n(x,{key:1},[r(c,{name:"ic:round-add",class:"inline-block align-middle mr-1"}),f(" Adicionar à Comparação ")],64))],2)])]}),_:1},8,["to"])}}}),te={class:"p-4"},oe=e("h1",{class:"text-4xl font-bold text-gray-800 mb-6"}," Encontre o hotel perfeito! ",-1),se={key:0,class:"text-lg text-gray-700 mb-8"},ae={class:"font-semibold"},le={key:1,class:"text-lg text-gray-700 mb-8"},ne={class:"bg-white p-6 rounded-lg shadow-md mb-8"},re=e("h2",{class:"text-2xl font-semibold text-gray-900 mb-4"}," Buscar e Filtrar Hotéis ",-1),ie={class:"md:col-span-2"},de={class:"md:col-span-1"},ce={class:"md:col-span-3 mt-4"},ue=e("label",{for:"sort-by",class:"block text-sm font-medium text-gray-700 mb-1"},"Ordenar por",-1),me=e("option",{value:""},"Nenhum",-1),pe=e("option",{value:"pricePerNight"},"Preço",-1),he=e("option",{value:"rating"},"Avaliação",-1),ve=[me,pe,he],_e={class:"md:col-span-3 mt-4"},ge=e("label",{for:"sort-order",class:"block text-sm font-medium text-gray-700 mb-1"},"Ordem",-1),be=e("option",{value:"asc"},"Crescente",-1),xe=e("option",{value:"desc"},"Decrescente",-1),fe=[be,xe],ye={class:"md:col-span-2 hidden"},ke={class:"md:col-span-2 hidden"},we={class:"md:col-span-2 hidden"},Ve={key:2,class:"text-center text-lg text-gray-600"},Ce={key:3,class:"text-center text-red-600 text-lg"},Be={key:4,class:"text-center text-gray-600 text-lg"},Pe={key:5,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},Ie=O({__name:"index",async setup(w){let d,u;const m=E(),t=L({location:"",minPrice:null,maxPrice:null,minRating:null,sortBy:"",sortOrder:"asc",checkInDate:"",checkOutDate:"",guests:1}),{data:l,pending:V,error:c,refresh:_}=([d,u]=T(()=>z("/api/hotels",{query:k(()=>({location:t.value.location||void 0,minPrice:t.value.minPrice||void 0,maxPrice:t.value.maxPrice||void 0,minRating:t.value.minRating||void 0,sortBy:t.value.sortBy||void 0,sortOrder:t.value.sortBy?t.value.sortOrder:void 0})),transform:i=>i.hotels},"$pqtWcjQkdb")),d=await d,u(),d),v=k(()=>l.value||[]),y=()=>{_()};return $(()=>{m.initializeAuth();const i=new Date,o=new Date(i);o.setDate(o.getDate()+1),t.value.checkInDate=i.toISOString().split("T")[0],t.value.checkOutDate=o.toISOString().split("T")[0]}),B(()=>t.value.sortBy,()=>{t.value.sortBy&&_()}),B(()=>t.value.sortOrder,()=>{_()}),(i,o)=>{var C;const p=A,I=F,N=ee;return a(),n("div",te,[oe,g(m).isAuthenticated?(a(),n("p",se,[f(" Bem-vindo de volta, "),e("span",ae,h(((C=g(m).currentUser)==null?void 0:C.name)||"Usuário"),1),f("! Vamos encontrar sua próxima estadia? ")])):(a(),n("p",le," Faça login ou cadastre-se para aproveitar todas as nossas funcionalidades de reserva! ")),e("div",ne,[re,e("form",{onSubmit:M(y,["prevent"]),class:"grid grid-cols-1 md:grid-cols-6 gap-4 items-end"},[e("div",ie,[r(p,{id:"location-search",modelValue:t.value.location,"onUpdate:modelValue":o[0]||(o[0]=s=>t.value.location=s),label:"Localização",placeholder:"Ex: Rio de Janeiro, São Paulo...",type:"text"},null,8,["modelValue"])]),e("div",null,[r(p,{id:"min-price",modelValue:t.value.minPrice,"onUpdate:modelValue":o[1]||(o[1]=s=>t.value.minPrice=s),modelModifiers:{number:!0},label:"Preço Mín.",type:"number",min:"0",step:"10"},null,8,["modelValue"])]),e("div",null,[r(p,{id:"max-price",modelValue:t.value.maxPrice,"onUpdate:modelValue":o[2]||(o[2]=s=>t.value.maxPrice=s),modelModifiers:{number:!0},label:"Preço Máx.",type:"number",min:"0",step:"10"},null,8,["modelValue"])]),e("div",null,[r(p,{id:"min-rating",modelValue:t.value.minRating,"onUpdate:modelValue":o[3]||(o[3]=s=>t.value.minRating=s),modelModifiers:{number:!0},label:"Avaliação Mín.",type:"number",min:"1",max:"5",step:"0.1"},null,8,["modelValue"])]),e("div",de,[r(I,{type:"submit",variant:"primary",class:"w-full"},{default:S(()=>[f(" Buscar ")]),_:1})]),e("div",ce,[ue,P(e("select",{id:"sort-by","onUpdate:modelValue":o[4]||(o[4]=s=>t.value.sortBy=s),class:"mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"},ve,512),[[D,t.value.sortBy]])]),e("div",_e,[ge,P(e("select",{id:"sort-order","onUpdate:modelValue":o[5]||(o[5]=s=>t.value.sortOrder=s),class:"mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"},fe,512),[[D,t.value.sortOrder]])]),e("div",ye,[r(p,{id:"check-in-date",modelValue:t.value.checkInDate,"onUpdate:modelValue":o[6]||(o[6]=s=>t.value.checkInDate=s),label:"Check-in",type:"date"},null,8,["modelValue"])]),e("div",ke,[r(p,{id:"check-out-date",modelValue:t.value.checkOutDate,"onUpdate:modelValue":o[7]||(o[7]=s=>t.value.checkOutDate=s),label:"Check-out",type:"date"},null,8,["modelValue"])]),e("div",we,[r(p,{id:"guests",modelValue:t.value.guests,"onUpdate:modelValue":o[8]||(o[8]=s=>t.value.guests=s),modelModifiers:{number:!0},label:"Hóspedes",type:"number",min:"1"},null,8,["modelValue"])])],32)]),g(V)?(a(),n("div",Ve," Carregando hotéis... ")):g(c)?(a(),n("div",Ce," Erro ao carregar hotéis: "+h(g(c).message||"Verifique sua conexão."),1)):!v.value||v.value.length===0?(a(),n("div",Be," Nenhum hotel encontrado para sua pesquisa. ")):(a(),n("div",Pe,[(a(!0),n(x,null,U(v.value,s=>(a(),b(N,{key:s.id,hotel:s},null,8,["hotel"]))),128))]))])}}});export{Ie as default};
